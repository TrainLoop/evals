"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[7439],{5111:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"development/architecture","title":"Architecture Guide","description":"This guide provides a comprehensive overview of the TrainLoop Evals architecture, including system design, component interactions, and data flow patterns.","source":"@site/docs/development/architecture.md","sourceDirName":"development","slug":"/development/architecture","permalink":"/development/architecture","draft":false,"unlisted":false,"editUrl":"https://github.com/trainloop/evals/tree/main/docs/docs/development/architecture.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"Release Process","permalink":"/development/release-process"},"next":{"title":"Building from Source","permalink":"/development/building-from-source"}}');var s=i(4848),r=i(8453);const l={},o="Architecture Guide",a={},c=[{value:"System Overview",id:"system-overview",level:2},{value:"Core Design Principles",id:"core-design-principles",level:3},{value:"High-Level Architecture",id:"high-level-architecture",level:2},{value:"Core Components",id:"core-components",level:2},{value:"1. SDK Layer (Data Collection)",id:"1-sdk-layer-data-collection",level:3},{value:"Python SDK (<code>sdk/python/</code>)",id:"python-sdk-sdkpython",level:4},{value:"TypeScript SDK (<code>sdk/typescript/</code>)",id:"typescript-sdk-sdktypescript",level:4},{value:"Go SDK (<code>sdk/go/</code>)",id:"go-sdk-sdkgo",level:4},{value:"2. CLI Tool (<code>cli/</code>)",id:"2-cli-tool-cli",level:3},{value:"Command Architecture",id:"command-architecture",level:4},{value:"Core Commands",id:"core-commands",level:4},{value:"3. Evaluation Engine (<code>cli/trainloop_cli/eval_core/</code>)",id:"3-evaluation-engine-clitrainloop_clieval_core",level:3},{value:"Component Structure",id:"component-structure",level:4},{value:"Metrics System",id:"metrics-system",level:4},{value:"Suites System",id:"suites-system",level:4},{value:"LLM Judge Integration",id:"llm-judge-integration",level:4},{value:"4. Studio UI (<code>ui/</code>)",id:"4-studio-ui-ui",level:3},{value:"Technology Stack",id:"technology-stack",level:4},{value:"Application Structure",id:"application-structure",level:4},{value:"Data Integration",id:"data-integration",level:4},{value:"5. Registry System (<code>registry/</code>)",id:"5-registry-system-registry",level:3},{value:"Component Discovery",id:"component-discovery",level:4},{value:"Type-Safe Configuration",id:"type-safe-configuration",level:4},{value:"Data Flow Architecture",id:"data-flow-architecture",level:2},{value:"1. Data Collection Flow",id:"1-data-collection-flow",level:3},{value:"2. Evaluation Flow",id:"2-evaluation-flow",level:3},{value:"3. Visualization Flow",id:"3-visualization-flow",level:3},{value:"Component Interactions",id:"component-interactions",level:2},{value:"SDK to CLI Integration",id:"sdk-to-cli-integration",level:3},{value:"CLI to Studio Integration",id:"cli-to-studio-integration",level:3},{value:"Registry Integration",id:"registry-integration",level:3},{value:"Deployment Patterns",id:"deployment-patterns",level:2},{value:"Local Development",id:"local-development",level:3},{value:"Team Collaboration",id:"team-collaboration",level:3},{value:"CI/CD Integration",id:"cicd-integration",level:3},{value:"Performance Characteristics",id:"performance-characteristics",level:2},{value:"SDK Performance",id:"sdk-performance",level:3},{value:"CLI Performance",id:"cli-performance",level:3},{value:"Studio Performance",id:"studio-performance",level:3},{value:"Security Considerations",id:"security-considerations",level:2},{value:"Data Privacy",id:"data-privacy",level:3},{value:"API Security",id:"api-security",level:3},{value:"Extensibility Points",id:"extensibility-points",level:2},{value:"Custom Metrics",id:"custom-metrics",level:3},{value:"Custom Storage Backends",id:"custom-storage-backends",level:3},{value:"Custom UI Components",id:"custom-ui-components",level:3},{value:"Migration and Compatibility",id:"migration-and-compatibility",level:2},{value:"Version Compatibility",id:"version-compatibility",level:3},{value:"Data Format Evolution",id:"data-format-evolution",level:3},{value:"Future Architecture Considerations",id:"future-architecture-considerations",level:2},{value:"Planned Enhancements",id:"planned-enhancements",level:3},{value:"Scalability Roadmap",id:"scalability-roadmap",level:3},{value:"Resources",id:"resources",level:2},{value:"Getting Help",id:"getting-help",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"architecture-guide",children:"Architecture Guide"})}),"\n",(0,s.jsx)(n.p,{children:"This guide provides a comprehensive overview of the TrainLoop Evals architecture, including system design, component interactions, and data flow patterns."}),"\n",(0,s.jsx)(n.h2,{id:"system-overview",children:"System Overview"}),"\n",(0,s.jsx)(n.p,{children:"TrainLoop Evals is a distributed LLM evaluation framework designed around the principle of zero-configuration data collection and flexible evaluation. The system consists of multiple loosely-coupled components that can be deployed independently."}),"\n",(0,s.jsx)(n.h3,{id:"core-design-principles",children:"Core Design Principles"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Simplicity First"})," - One environment variable, one function call, one folder of JSON files"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Vendor Independence"})," - Everything stored as newline-delimited JSON; no databases required"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Developer-Friendly"})," - Meets developers where they are, accepts existing bespoke loops"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Type-Safe"})," - All evaluation code present in codebase with full type safety"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Composable"})," - Extensible system with helper generators (shadcn-like patterns)"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"high-level-architecture",children:"High-Level Architecture"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                                TrainLoop Evals                                   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502  Application    \u2502  \u2502  Application    \u2502  \u2502  Application    \u2502  \u2502     CLI     \u2502 \u2502\n\u2502  \u2502   (Python)      \u2502  \u2502  (TypeScript)   \u2502  \u2502     (Go)        \u2502  \u2502    Tool     \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2502           \u2502                      \u2502                      \u2502               \u2502        \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510       \u2502        \u2502\n\u2502  \u2502   Python SDK    \u2502  \u2502 TypeScript SDK  \u2502  \u2502     Go SDK      \u2502       \u2502        \u2502\n\u2502  \u2502   (Instrumentation)\u2502  \u2502(Instrumentation)\u2502  \u2502(Instrumentation)\u2502       \u2502        \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518       \u2502        \u2502\n\u2502           \u2502                      \u2502                      \u2502               \u2502        \u2502\n\u2502           \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518               \u2502        \u2502\n\u2502                                  \u2502                                      \u2502        \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502                            Data Layer                                       \u2502 \u2502\n\u2502  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510             \u2502 \u2502\n\u2502  \u2502  \u2502     Events      \u2502  \u2502     Results     \u2502  \u2502   Benchmarks    \u2502             \u2502 \u2502\n\u2502  \u2502  \u2502   (JSONL)       \u2502  \u2502    (JSONL)      \u2502  \u2502    (JSONL)      \u2502             \u2502 \u2502\n\u2502  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518             \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2502                                          \u2502                                       \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502                        Evaluation Engine                                    \u2502 \u2502\n\u2502  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510             \u2502 \u2502\n\u2502  \u2502  \u2502     Metrics     \u2502  \u2502     Suites      \u2502  \u2502     Judges      \u2502             \u2502 \u2502\n\u2502  \u2502  \u2502   (Python)      \u2502  \u2502   (Python)      \u2502  \u2502   (LLM-based)   \u2502             \u2502 \u2502\n\u2502  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518             \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2502                                          \u2502                                       \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502                        Studio UI                                            \u2502 \u2502\n\u2502  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510             \u2502 \u2502\n\u2502  \u2502  \u2502    Dashboard    \u2502  \u2502    Benchmarks   \u2502  \u2502    Analysis     \u2502             \u2502 \u2502\n\u2502  \u2502  \u2502   (Next.js)     \u2502  \u2502   (Next.js)     \u2502  \u2502   (Next.js)     \u2502             \u2502 \u2502\n\u2502  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518             \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,s.jsx)(n.h2,{id:"core-components",children:"Core Components"}),"\n",(0,s.jsx)(n.h3,{id:"1-sdk-layer-data-collection",children:"1. SDK Layer (Data Collection)"}),"\n",(0,s.jsx)(n.p,{children:"The SDK layer provides zero-touch instrumentation for LLM calls across multiple programming languages."}),"\n",(0,s.jsxs)(n.h4,{id:"python-sdk-sdkpython",children:["Python SDK (",(0,s.jsx)(n.code,{children:"sdk/python/"}),")"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'# Architecture: HTTP instrumentation with monkey patching\nfrom trainloop_llm_logging import collect\n\n# Single function call enables instrumentation\ncollect("./trainloop/trainloop.config.yaml")\n\n# Automatically captures:\n# - OpenAI SDK calls\n# - Anthropic SDK calls\n# - LangChain calls\n# - Raw HTTP requests to LLM providers\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Key Components:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"instrumentation/"})," - HTTP library patches (requests, httpx, http.client)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"store.py"})," - Thread-safe data persistence"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"exporter.py"})," - Configurable data export (local, S3, GCS)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"logger.py"})," - Structured logging with correlation IDs"]}),"\n"]}),"\n",(0,s.jsxs)(n.h4,{id:"typescript-sdk-sdktypescript",children:["TypeScript SDK (",(0,s.jsx)(n.code,{children:"sdk/typescript/"}),")"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// Architecture: Node.js HTTP/fetch instrumentation\nimport { collect } from 'trainloop-llm-logging';\n\n// Environment variable configuration\nprocess.env.TRAINLOOP_DATA_FOLDER = './data';\nprocess.env.NODE_OPTIONS = '--require=trainloop-llm-logging';\n\n// Automatically captures:\n// - fetch() calls\n// - http/https module usage\n// - Popular LLM SDK calls\n// Response bodies from common providers are simplified to\n// `{ \"content\": \"<assistant reply>\" }` for easier parsing\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Key Components:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"instrumentation/fetch.ts"})," - Fetch API instrumentation"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"instrumentation/http.ts"})," - Node.js HTTP module instrumentation"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"store.ts"})," - Event buffering and persistence"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"config.ts"})," - Configuration management"]}),"\n"]}),"\n",(0,s.jsxs)(n.h4,{id:"go-sdk-sdkgo",children:["Go SDK (",(0,s.jsx)(n.code,{children:"sdk/go/"}),")"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'// Architecture: HTTP transport wrapping\nimport "github.com/trainloop/evals/sdk/go/trainloop-llm-logging"\n\n// Wrap HTTP client\nclient := &http.Client{\n    Transport: trainloop.NewInstrumentedTransport(\n        http.DefaultTransport,\n        trainloop.DefaultConfig(),\n    ),\n}\n\n// All HTTP calls through this client are instrumented\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Key Components:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"instrumentation/http.go"})," - HTTP transport wrapper"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"internal/store/"})," - Event storage and buffering"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"internal/config/"})," - Configuration management"]}),"\n"]}),"\n",(0,s.jsxs)(n.h3,{id:"2-cli-tool-cli",children:["2. CLI Tool (",(0,s.jsx)(n.code,{children:"cli/"}),")"]}),"\n",(0,s.jsx)(n.p,{children:"The CLI provides the primary interface for managing TrainLoop projects and running evaluations."}),"\n",(0,s.jsx)(n.h4,{id:"command-architecture",children:"Command Architecture"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"# cli/trainloop_cli/commands/\n\u251c\u2500\u2500 __init__.py\n\u251c\u2500\u2500 init.py          # Project initialization\n\u251c\u2500\u2500 eval.py          # Evaluation execution\n\u251c\u2500\u2500 studio.py        # Studio UI launcher\n\u251c\u2500\u2500 add.py           # Registry component addition\n\u2514\u2500\u2500 benchmark/       # Benchmark functionality\n    \u251c\u2500\u2500 command.py\n    \u251c\u2500\u2500 runner.py\n    \u2514\u2500\u2500 storage.py\n"})}),"\n",(0,s.jsx)(n.h4,{id:"core-commands",children:"Core Commands"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"trainloop init"})})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Scaffolds project structure"}),"\n",(0,s.jsx)(n.li,{children:"Creates sample metrics and suites"}),"\n",(0,s.jsx)(n.li,{children:"Initializes configuration"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"trainloop eval"})})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Discovers and runs evaluation suites"}),"\n",(0,s.jsx)(n.li,{children:"Applies metrics to collected events"}),"\n",(0,s.jsx)(n.li,{children:"Outputs results to JSONL files"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"trainloop studio"})})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Launches web-based visualization"}),"\n",(0,s.jsx)(n.li,{children:"Provides interactive data exploration"}),"\n",(0,s.jsx)(n.li,{children:"Supports real-time updates"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"trainloop add"})})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Adds components from registry"}),"\n",(0,s.jsx)(n.li,{children:"Supports local and remote registries"}),"\n",(0,s.jsx)(n.li,{children:"Type-safe component discovery"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"trainloop benchmark"})})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Compares multiple LLM providers"}),"\n",(0,s.jsx)(n.li,{children:"Generates performance and cost analysis"}),"\n",(0,s.jsx)(n.li,{children:"Supports custom evaluation metrics"}),"\n"]}),"\n",(0,s.jsxs)(n.h3,{id:"3-evaluation-engine-clitrainloop_clieval_core",children:["3. Evaluation Engine (",(0,s.jsx)(n.code,{children:"cli/trainloop_cli/eval_core/"}),")"]}),"\n",(0,s.jsx)(n.p,{children:"The evaluation engine processes collected events through configurable metrics and suites."}),"\n",(0,s.jsx)(n.h4,{id:"component-structure",children:"Component Structure"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"# Evaluation workflow\nEvents (JSONL) \u2192 Metrics \u2192 Suites \u2192 Results (JSONL)\n"})}),"\n",(0,s.jsx)(n.h4,{id:"metrics-system",children:"Metrics System"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'# registry/metrics/is_helpful/is_helpful.py\ndef is_helpful(event: dict) -> dict:\n    """Evaluate if an LLM response is helpful."""\n    prompt = event.get("prompt", "")\n    response = event.get("response", "")\n    \n    # Metric logic here\n    score = calculate_helpfulness(prompt, response)\n    \n    return {\n        "metric": "is_helpful",\n        "score": score,\n        "passed": score > 0.7,\n        "metadata": {"reasoning": "..."}\n    }\n'})}),"\n",(0,s.jsx)(n.h4,{id:"suites-system",children:"Suites System"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'# registry/suites/is_helpful/is_helpful.py\nfrom registry.metrics.is_helpful.is_helpful import is_helpful\n\ndef suite(events: list) -> list:\n    """Evaluate helpfulness across multiple events."""\n    results = []\n    for event in events:\n        result = is_helpful(event)\n        results.append(result)\n    return results\n'})}),"\n",(0,s.jsx)(n.h4,{id:"llm-judge-integration",children:"LLM Judge Integration"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'# cli/trainloop_cli/eval_core/judge.py\nclass LLMJudge:\n    """LLM-based evaluation using configurable prompts."""\n    \n    def judge(self, prompt: str, response: str, criteria: str) -> dict:\n        """Evaluate response against criteria using LLM."""\n        judge_prompt = f"""\n        Evaluate the following response based on: {criteria}\n        \n        Prompt: {prompt}\n        Response: {response}\n        \n        Provide a score from 0-1 and reasoning.\n        """\n        \n        # LLM call for evaluation\n        result = self.llm_client.complete(judge_prompt)\n        return parse_judge_result(result)\n'})}),"\n",(0,s.jsxs)(n.h3,{id:"4-studio-ui-ui",children:["4. Studio UI (",(0,s.jsx)(n.code,{children:"ui/"}),")"]}),"\n",(0,s.jsx)(n.p,{children:"The Studio UI provides web-based visualization and analysis of evaluation data."}),"\n",(0,s.jsx)(n.h4,{id:"technology-stack",children:"Technology Stack"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Framework"}),": Next.js 15 with App Router"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Database"}),": DuckDB for local data querying"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"UI Components"}),": shadcn/ui with Tailwind CSS"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Charts"}),": Recharts and Nivo for data visualization"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"application-structure",children:"Application Structure"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// app/ (Next.js App Router)\n\u251c\u2500\u2500 api/               # API routes\n\u2502   \u251c\u2500\u2500 events/        # Event data endpoints\n\u2502   \u251c\u2500\u2500 results/       # Results data endpoints\n\u2502   \u2514\u2500\u2500 benchmarks/    # Benchmark data endpoints\n\u251c\u2500\u2500 dashboard/         # Main dashboard\n\u251c\u2500\u2500 events/            # Event browser\n\u251c\u2500\u2500 results/           # Results analysis\n\u2514\u2500\u2500 benchmarks/        # Benchmark comparison\n"})}),"\n",(0,s.jsx)(n.h4,{id:"data-integration",children:"Data Integration"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// database/duckdb.ts\nimport Database from 'duckdb';\n\nexport class DataManager {\n  private db: Database;\n  \n  async loadEvents(dataFolder: string): Promise<Event[]> {\n    // Load JSONL files directly into DuckDB\n    const query = `\n      SELECT * FROM read_json_auto('${dataFolder}/events/*.jsonl')\n      ORDER BY timestamp DESC\n    `;\n    \n    return this.db.all(query);\n  }\n  \n  async aggregateMetrics(suiteId: string): Promise<MetricsSummary> {\n    // Complex aggregation queries\n    const query = `\n      SELECT \n        metric,\n        COUNT(*) as total,\n        SUM(CASE WHEN passed THEN 1 ELSE 0 END) as passed,\n        AVG(score) as avg_score\n      FROM read_json_auto('${dataFolder}/results/*.jsonl')\n      WHERE suite_id = ?\n      GROUP BY metric\n    `;\n    \n    return this.db.all(query, [suiteId]);\n  }\n}\n"})}),"\n",(0,s.jsxs)(n.h3,{id:"5-registry-system-registry",children:["5. Registry System (",(0,s.jsx)(n.code,{children:"registry/"}),")"]}),"\n",(0,s.jsx)(n.p,{children:"The registry enables sharing and discovery of evaluation components."}),"\n",(0,s.jsx)(n.h4,{id:"component-discovery",children:"Component Discovery"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'# registry/metrics/index.py\nfrom typing import Dict, List\nfrom .always_pass.config import AlwaysPassConfig\nfrom .is_helpful.config import IsHelpfulConfig\n\nMETRICS_REGISTRY: Dict[str, type] = {\n    "always_pass": AlwaysPassConfig,\n    "is_helpful": IsHelpfulConfig,\n}\n\ndef discover_metrics() -> List[str]:\n    """Discover available metrics."""\n    return list(METRICS_REGISTRY.keys())\n'})}),"\n",(0,s.jsx)(n.h4,{id:"type-safe-configuration",children:"Type-Safe Configuration"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'# registry/metrics/is_helpful/config.py\nfrom dataclasses import dataclass\nfrom typing import Optional\n\n@dataclass\nclass IsHelpfulConfig:\n    """Configuration for is_helpful metric."""\n    threshold: float = 0.7\n    llm_judge: bool = True\n    judge_model: str = "gpt-4"\n    custom_prompt: Optional[str] = None\n    \n    def validate(self) -> None:\n        """Validate configuration."""\n        if not 0 <= self.threshold <= 1:\n            raise ValueError("threshold must be between 0 and 1")\n'})}),"\n",(0,s.jsx)(n.h2,{id:"data-flow-architecture",children:"Data Flow Architecture"}),"\n",(0,s.jsx)(n.h3,{id:"1-data-collection-flow",children:"1. Data Collection Flow"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Application Code \u2192 SDK Instrumentation \u2192 Event Capture \u2192 Storage\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Event Structure:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "id": "evt_123",\n  "timestamp": 1704067200,\n  "provider": "openai",\n  "model": "gpt-4",\n  "prompt": "Explain quantum computing",\n  "response": "Quantum computing is...",\n  "metadata": {\n    "duration_ms": 1500,\n    "tokens_used": 150,\n    "cost_usd": 0.003\n  }\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"2-evaluation-flow",children:"2. Evaluation Flow"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Events \u2192 Metric Discovery \u2192 Suite Execution \u2192 Results Generation\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Result Structure:"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "event_id": "evt_123",\n  "suite_id": "helpfulness_suite",\n  "metric": "is_helpful",\n  "score": 0.85,\n  "passed": true,\n  "timestamp": 1704067300,\n  "metadata": {\n    "reasoning": "Response provides clear explanation",\n    "confidence": 0.9\n  }\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"3-visualization-flow",children:"3. Visualization Flow"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"JSONL Files \u2192 DuckDB \u2192 API Endpoints \u2192 React Components\n"})}),"\n",(0,s.jsx)(n.h2,{id:"component-interactions",children:"Component Interactions"}),"\n",(0,s.jsx)(n.h3,{id:"sdk-to-cli-integration",children:"SDK to CLI Integration"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'# SDK writes events\nsdk.store.save_event({\n    "id": "evt_123",\n    "timestamp": time.time(),\n    "data": event_data\n})\n\n# CLI reads events\nevents = cli.load_events(data_folder)\nresults = cli.evaluate(events, suite_name)\n'})}),"\n",(0,s.jsx)(n.h3,{id:"cli-to-studio-integration",children:"CLI to Studio Integration"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'# CLI launches Studio\nstudio_process = subprocess.Popen([\n    "node", "server.js",\n    "--data-folder", str(data_folder),\n    "--config", str(config_path)\n])\n'})}),"\n",(0,s.jsx)(n.h3,{id:"registry-integration",children:"Registry Integration"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'# Add component from registry\nregistry.add_metric("is_helpful", target_folder="./eval/metrics/")\n\n# Discover local components\nlocal_metrics = registry.discover_local_metrics("./eval/metrics/")\n'})}),"\n",(0,s.jsx)(n.h2,{id:"deployment-patterns",children:"Deployment Patterns"}),"\n",(0,s.jsx)(n.h3,{id:"local-development",children:"Local Development"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Single-machine development\ntrainloop init\ntrainloop eval\ntrainloop studio\n"})}),"\n",(0,s.jsx)(n.h3,{id:"team-collaboration",children:"Team Collaboration"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"# Docker Compose setup\nversion: '3.8'\nservices:\n  trainloop-studio:\n    build: ./ui\n    ports:\n      - \"3000:3000\"\n    volumes:\n      - ./data:/app/data\n    environment:\n      - TRAINLOOP_DATA_FOLDER=/app/data\n"})}),"\n",(0,s.jsx)(n.h3,{id:"cicd-integration",children:"CI/CD Integration"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"# GitHub Actions workflow\n- name: Run TrainLoop Evaluation\n  run: |\n    trainloop eval --suite regression_tests\n    trainloop benchmark --providers openai,anthropic\n"})}),"\n",(0,s.jsx)(n.h2,{id:"performance-characteristics",children:"Performance Characteristics"}),"\n",(0,s.jsx)(n.h3,{id:"sdk-performance",children:"SDK Performance"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Overhead"}),": < 5ms per instrumented call"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Memory"}),": < 10MB additional memory usage"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Throughput"}),": > 1000 events/second with buffering"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"cli-performance",children:"CLI Performance"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Evaluation"}),": ~100 events/second per metric"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Parallel Processing"}),": Scales with available CPU cores"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Memory"}),": Streaming processing for large datasets"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"studio-performance",children:"Studio Performance"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Data Loading"}),": DuckDB enables sub-second queries on millions of events"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Rendering"}),": Virtual scrolling for large datasets"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Real-time Updates"}),": WebSocket integration for live data"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"security-considerations",children:"Security Considerations"}),"\n",(0,s.jsx)(n.h3,{id:"data-privacy",children:"Data Privacy"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Local Storage"}),": All data stored locally by default"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Encryption"}),": Support for encrypted storage backends"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Access Control"}),": File-system based access control"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"api-security",children:"API Security"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"No External Calls"}),": Evaluation runs entirely locally"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Configurable Endpoints"}),": Optional LLM judge with configurable endpoints"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Input Validation"}),": Comprehensive input sanitization"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"extensibility-points",children:"Extensibility Points"}),"\n",(0,s.jsx)(n.h3,{id:"custom-metrics",children:"Custom Metrics"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'# Easy to add new metrics\ndef custom_metric(event: dict) -> dict:\n    """Custom evaluation logic."""\n    return {\n        "metric": "custom_metric",\n        "score": calculate_custom_score(event),\n        "passed": score > threshold\n    }\n'})}),"\n",(0,s.jsx)(n.h3,{id:"custom-storage-backends",children:"Custom Storage Backends"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"# Support for cloud storage\nclass S3Store(Store):\n    def save_event(self, event: dict) -> None:\n        # S3 implementation\n        pass\n"})}),"\n",(0,s.jsx)(n.h3,{id:"custom-ui-components",children:"Custom UI Components"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:'// Extensible React components\nexport function CustomChart({ data }: { data: ChartData }) {\n  return (\n    <div className="custom-chart">\n      {/* Custom visualization */}\n    </div>\n  );\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"migration-and-compatibility",children:"Migration and Compatibility"}),"\n",(0,s.jsx)(n.h3,{id:"version-compatibility",children:"Version Compatibility"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Backward Compatibility"}),": Maintained for data formats"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Migration Tools"}),": Built-in migration utilities"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"API Versioning"}),": Semantic versioning for breaking changes"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"data-format-evolution",children:"Data Format Evolution"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'# Support for multiple data format versions\ndef migrate_events(events: List[dict], target_version: str) -> List[dict]:\n    """Migrate events to target format version."""\n    migrated = []\n    for event in events:\n        if event.get("version") == "1.0":\n            event = migrate_v1_to_v2(event)\n        migrated.append(event)\n    return migrated\n'})}),"\n",(0,s.jsx)(n.h2,{id:"future-architecture-considerations",children:"Future Architecture Considerations"}),"\n",(0,s.jsx)(n.h3,{id:"planned-enhancements",children:"Planned Enhancements"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Distributed Evaluation"})," - Support for distributed metric calculation"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Real-time Streaming"})," - WebSocket support for live event processing"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Plugin System"})," - More flexible plugin architecture"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Cloud Integration"})," - Native cloud deployment options"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Advanced Analytics"})," - Machine learning-based evaluation metrics"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"scalability-roadmap",children:"Scalability Roadmap"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Horizontal Scaling"}),": Kubernetes-based deployment"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Data Partitioning"}),": Automatic data partitioning strategies"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Caching Layer"}),": Redis-based caching for improved performance"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Load Balancing"}),": Support for multiple Studio instances"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"resources",children:"Resources"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"/development/local-development",children:"Local Development"})})," - Setting up development environment"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"/development/building-from-source",children:"Building from Source"})})," - Building all components"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"/development/testing",children:"Testing Guide"})})," - Testing architecture and components"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"/development/contributing",children:"Contributing Guide"})})," - Contributing to the architecture"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"getting-help",children:"Getting Help"}),"\n",(0,s.jsx)(n.p,{children:"For architecture-related questions:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Design Discussions"}),": ",(0,s.jsx)(n.a,{href:"https://github.com/trainloop/evals/discussions",children:"GitHub Discussions"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Architecture Issues"}),": ",(0,s.jsx)(n.a,{href:"https://github.com/trainloop/evals/issues",children:"GitHub Issues"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Implementation Questions"}),": Comment on relevant pull requests"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.p,{children:"This architecture guide provides the foundation for understanding how TrainLoop Evals components work together to provide a comprehensive LLM evaluation platform."})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>o});var t=i(6540);const s={},r=t.createContext(s);function l(e){const n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);