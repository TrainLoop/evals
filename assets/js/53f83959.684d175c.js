"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[7719],{2194:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"reference/sdk/index","title":"SDK Reference","description":"TrainLoop SDKs provide zero-touch instrumentation for capturing LLM interactions in your applications.","source":"@site/docs/reference/sdk/index.md","sourceDirName":"reference/sdk","slug":"/reference/sdk/","permalink":"/reference/sdk/","draft":false,"unlisted":false,"editUrl":"https://github.com/trainloop/evals/tree/main/docs/docs/reference/sdk/index.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"docsSidebar","previous":{"title":"Environment Variables","permalink":"/reference/cli/env-vars"},"next":{"title":"Python","permalink":"/reference/sdk/python"}}');var s=i(4848),t=i(8453);const l={sidebar_position:1},o="SDK Reference",a={},c=[{value:"Overview",id:"overview",level:2},{value:"Supported Languages",id:"supported-languages",level:2},{value:"Common Concepts",id:"common-concepts",level:2},{value:"Event Data",id:"event-data",level:3},{value:"Tagging",id:"tagging",level:3},{value:"Data Storage",id:"data-storage",level:3},{value:"Configuration",id:"configuration",level:3},{value:"Installation",id:"installation",level:2},{value:"Python",id:"python",level:3},{value:"TypeScript/JavaScript",id:"typescriptjavascript",level:3},{value:"Go",id:"go",level:3},{value:"Quick Start",id:"quick-start",level:2},{value:"Environment Variables",id:"environment-variables",level:2},{value:"Language-Specific Documentation",id:"language-specific-documentation",level:2},{value:"Common Patterns",id:"common-patterns",level:2},{value:"Error Handling",id:"error-handling",level:3},{value:"Selective Instrumentation",id:"selective-instrumentation",level:3},{value:"Testing",id:"testing",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Common Issues",id:"common-issues",level:3},{value:"See Also",id:"see-also",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"sdk-reference",children:"SDK Reference"})}),"\n",(0,s.jsx)(n.p,{children:"TrainLoop SDKs provide zero-touch instrumentation for capturing LLM interactions in your applications."}),"\n",(0,s.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsx)(n.p,{children:"TrainLoop SDKs automatically capture request/response data from LLM API calls and save it as JSONL files for evaluation. They support:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Zero-touch instrumentation"})," - Minimal code changes required"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Multi-provider support"})," - Works with OpenAI, Anthropic, Google, and more"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Automatic data collection"})," - Captures all LLM interactions transparently"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Custom tagging"})," - Tag specific calls for targeted evaluation"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Buffered writes"})," - Efficient data storage with configurable flushing"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"supported-languages",children:"Supported Languages"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Language"}),(0,s.jsx)(n.th,{children:"Package"}),(0,s.jsx)(n.th,{children:"Documentation"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Python"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"trainloop-llm-logging"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"/reference/sdk/python/api",children:"Python SDK"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"TypeScript/JavaScript"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"trainloop-llm-logging"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"/reference/sdk/typescript/api",children:"TypeScript SDK"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Go"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"github.com/trainloop/evals/sdk/go/trainloop-llm-logging"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"/reference/sdk/go/api",children:"Go SDK"})})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"common-concepts",children:"Common Concepts"}),"\n",(0,s.jsx)(n.h3,{id:"event-data",children:"Event Data"}),"\n",(0,s.jsx)(n.p,{children:"All SDKs capture the same event data structure:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "timestamp": "2024-01-15T14:30:25.123Z",\n  "input": {\n    "model": "gpt-4o-mini",\n    "messages": [\n      {"role": "user", "content": "Hello!"}\n    ],\n    "temperature": 0.7\n  },\n  "output": {\n    "content": "Hello! How can I help you today?",\n    "usage": {\n      "prompt_tokens": 10,\n      "completion_tokens": 8,\n      "total_tokens": 18\n    }\n  },\n  "metadata": {\n    "provider": "openai",\n    "model": "gpt-4o-mini",\n    "tags": ["greeting"],\n    "duration_ms": 1250\n  }\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"tagging",children:"Tagging"}),"\n",(0,s.jsx)(n.p,{children:"Tag LLM calls for targeted evaluation:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'# Python\nresponse = client.chat.completions.create(\n    model="gpt-4o-mini",\n    messages=[{"role": "user", "content": "Hello"}],\n    extra_headers=trainloop_tag("greeting")\n)\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:'// TypeScript/JavaScript\nconst response = await client.chat.completions.create({\n    model: "gpt-4o-mini",\n    messages: [{"role": "user", "content": "Hello"}]\n}, {\n    headers: { ...trainloopTag("greeting") }\n});\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'// Go\nresp, err := client.CreateChatCompletion(\n    context.Background(),\n    openai.ChatCompletionRequest{\n        Model: openai.GPT4OMini,\n        Messages: []openai.ChatCompletionMessage{\n            {Role: openai.ChatMessageRoleUser, Content: "Hello"},\n        },\n    },\n)\n'})}),"\n",(0,s.jsx)(n.h3,{id:"data-storage",children:"Data Storage"}),"\n",(0,s.jsx)(n.p,{children:"All SDKs write to the same JSONL format in the configured data folder:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"$TRAINLOOP_DATA_FOLDER/\n\u251c\u2500\u2500 events/\n\u2502   \u251c\u2500\u2500 2024-01-15.jsonl\n\u2502   \u251c\u2500\u2500 2024-01-16.jsonl\n\u2502   \u2514\u2500\u2500 ...\n"})}),"\n",(0,s.jsx)(n.h3,{id:"configuration",children:"Configuration"}),"\n",(0,s.jsx)(n.p,{children:"Common configuration options:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Option"}),(0,s.jsx)(n.th,{children:"Description"}),(0,s.jsx)(n.th,{children:"Default"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"data_folder"})}),(0,s.jsx)(n.td,{children:"Where to store event files"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"./trainloop/data"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"flush_immediately"})}),(0,s.jsx)(n.td,{children:"Disable buffering"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"false"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"buffer_size"})}),(0,s.jsx)(n.td,{children:"Events before auto-flush"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"5"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"buffer_timeout"})}),(0,s.jsx)(n.td,{children:"Seconds before auto-flush"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"10"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"tags"})}),(0,s.jsx)(n.td,{children:"Default tags for all events"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"[]"})})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,s.jsx)(n.h3,{id:"python",children:"Python"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"pip install trainloop-llm-logging\n"})}),"\n",(0,s.jsx)(n.h3,{id:"typescriptjavascript",children:"TypeScript/JavaScript"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"npm install trainloop-llm-logging\n"})}),"\n",(0,s.jsx)(n.h3,{id:"go",children:"Go"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"go get github.com/trainloop/evals/sdk/go/trainloop-llm-logging\n"})}),"\n",(0,s.jsx)(n.h2,{id:"quick-start",children:"Quick Start"}),"\n",(0,s.jsxs)(n.p,{children:["See the ",(0,s.jsx)(n.a,{href:"/tutorials/getting-started",children:"Getting Started Tutorial"})," for complete setup instructions."]}),"\n",(0,s.jsx)(n.h2,{id:"environment-variables",children:"Environment Variables"}),"\n",(0,s.jsx)(n.p,{children:"All SDKs respect these environment variables:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Variable"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"TRAINLOOP_DATA_FOLDER"})}),(0,s.jsx)(n.td,{children:"Data storage location"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"TRAINLOOP_FLUSH_IMMEDIATELY"})}),(0,s.jsx)(n.td,{children:"Disable buffering"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"TRAINLOOP_TAGS"})}),(0,s.jsx)(n.td,{children:"Default tags (comma-separated)"})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"language-specific-documentation",children:"Language-Specific Documentation"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"/reference/sdk/python/api",children:"Python SDK"})})," - Complete Python API reference"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"/reference/sdk/typescript/api",children:"TypeScript SDK"})})," - Complete TypeScript API reference"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.a,{href:"/reference/sdk/go/api",children:"Go SDK"})})," - Complete Go API reference"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"common-patterns",children:"Common Patterns"}),"\n",(0,s.jsx)(n.h3,{id:"error-handling",children:"Error Handling"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'# Python\ntry:\n    collect("trainloop/trainloop.config.yaml")\nexcept Exception as e:\n    print(f"Failed to initialize TrainLoop: {e}")\n'})}),"\n",(0,s.jsx)(n.h3,{id:"selective-instrumentation",children:"Selective Instrumentation"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'# Python - Only instrument specific calls\nif should_evaluate:\n    extra_headers = trainloop_tag("evaluation")\nelse:\n    extra_headers = {}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"testing",children:"Testing"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'# Python - Skip instrumentation in tests\nif not os.getenv("TRAINLOOP_ENABLED", "true").lower() == "true":\n    # Skip collect() call\n    pass\n'})}),"\n",(0,s.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Initialize early"})," - Set up instrumentation at application startup"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Use meaningful tags"})," - Tag calls for specific evaluation scenarios"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Handle errors gracefully"})," - Don't let instrumentation break your app"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Flush on shutdown"})," - Ensure data is written before exit"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Monitor data volume"})," - Be aware of storage requirements"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,s.jsx)(n.h3,{id:"common-issues",children:"Common Issues"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"No data being collected"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Check ",(0,s.jsx)(n.code,{children:"TRAINLOOP_DATA_FOLDER"})," is set correctly"]}),"\n",(0,s.jsx)(n.li,{children:"Verify SDK is initialized"}),"\n",(0,s.jsx)(n.li,{children:"Ensure data folder exists and is writable"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"High memory usage"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Enable ",(0,s.jsx)(n.code,{children:"flush_immediately"})," for high-volume applications"]}),"\n",(0,s.jsxs)(n.li,{children:["Reduce ",(0,s.jsx)(n.code,{children:"buffer_size"})," if needed"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Missing events"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Check for errors in application logs"}),"\n",(0,s.jsx)(n.li,{children:"Verify API calls are going through instrumented clients"}),"\n",(0,s.jsx)(n.li,{children:"Ensure proper shutdown handling"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"see-also",children:"See Also"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/tutorials/getting-started",children:"Getting Started Tutorial"})," - Complete setup guide"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/reference/cli/",children:"CLI Reference"})," - Process collected data"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/explanation/concepts/architecture",children:"Architecture"})," - How SDKs fit into the system"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>o});var r=i(6540);const s={},t=r.createContext(s);function l(e){const n=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);