"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[8401],{292:(e,o,t)=>{t.d(o,{A:()=>r});t(6540);var a=t(594),n=t(6823),l=t(4848);function r(e){return(0,l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[(0,l.jsx)(a.A,{...e}),(0,l.jsxs)("div",{style:{marginLeft:"auto",display:"flex",gap:"8px"},children:[(0,l.jsx)(n.A,{iconOnly:!0,action:"download"}),(0,l.jsx)(n.A,{iconOnly:!0,action:"copy"})]})]})}},5140:(e,o,t)=>{t.d(o,{A:()=>l});var a=t(7151),n=t(6823);const l={...a.A,DownloadMarkdownButton:n.A}},6823:(e,o,t)=>{t.d(o,{A:()=>r});var a=t(6540),n=t(6347),l=t(4848);const r=({size:e="small",variant:o="outline",filename:t,githubUrl:r,iconOnly:i=!1,action:c="download"})=>{const s=(0,n.zy)(),[d,m]=(0,a.useState)(!1),[p,u]=(0,a.useState)(!1),w="download"===c?d:p,{filename:y,githubUrl:h}=(()=>{const e=s.pathname,o=`${"/"===e?"intro":e.split("/").pop()||"page"}.md`;let a="";if("/"===e)a="docs/docs/intro.md";else if(e.startsWith("/cli/"))a=`docs/cli/${e.replace("/cli/","")}.mdx`;else if(e.startsWith("/ui/"))a=`docs/ui/${e.replace("/ui/","")}.mdx`;else{a=`docs/docs/${e.replace(/^\//,"").replace(/\/$/,"")}.md`}return{filename:t||o,githubUrl:r||`https://raw.githubusercontent.com/TrainLoop/evals/main/${a}`}})(),b=async()=>{try{console.log("Fetching markdown from:",h);const e=await fetch(h);if(!e.ok)throw new Error(`HTTP ${e.status}: ${e.statusText}`);const o=await e.text();if(console.log("Fetched text length:",o.length),!o||0===o.trim().length)throw new Error("No content received from GitHub");const t=o.replace(/^---\n[\s\S]*?\n---\n/,""),a=t.replace(/^import.*;\n/gm,"").trim();return console.log("Cleaned text length:",a.length),a}catch(e){throw console.error("Fetch error:",e),e}},f=i?"breadcrumb-markdown-button":`button ${"primary"===o?"button--primary":"secondary"===o?"button--secondary":"button--outline button--secondary"} ${"small"===e?"button--sm":""}`;return(0,l.jsx)("button",{className:f,onClick:()=>{"download"===c?(async()=>{m(!0);try{const e=await b(),o=new Blob([e],{type:"text/markdown"}),t=URL.createObjectURL(o),a=document.createElement("a");a.href=t,a.download=y,a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(t)}catch(e){console.error("Download failed:",e),alert("Failed to download markdown file. Please try again.")}finally{m(!1)}})():(async()=>{u(!0);try{const e=await b();if(navigator.clipboard&&navigator.clipboard.writeText)await navigator.clipboard.writeText(e);else{const o=document.createElement("textarea");o.value=e,o.style.position="fixed",o.style.left="-999999px",o.style.top="-999999px",document.body.appendChild(o),o.focus(),o.select(),document.execCommand("copy"),document.body.removeChild(o)}setTimeout(()=>u(!1),1e3)}catch(e){console.error("Copy failed:",e),console.error("Error details:",{message:e.message,name:e.name,stack:e.stack,hasClipboard:!!navigator.clipboard,hasWriteText:!(!navigator.clipboard||!navigator.clipboard.writeText),isSecureContext:window.isSecureContext,protocol:window.location.protocol});const o="https:"===window.location.protocol||"localhost"===window.location.hostname;alert(o?"Failed to copy markdown to clipboard. Please try again or copy the content manually.":"Clipboard access requires HTTPS. Please copy the content manually."),u(!1)}})()},disabled:w,title:"download"===c?"Download Markdown for this page":"Copy Markdown for this page",style:{fontSize:"small"===e?"0.8em":void 0,minWidth:"small"===e?"auto":void 0},children:(()=>{if(w)return"\u23f3";if(i)return"download"===c?"\ud83d\udce5":"\ud83d\udccb";return`${"download"===c?"\ud83d\udce5":"\ud83d\udccb"} ${"download"===c?"small"===e?".md":"Download .md":"small"===e?"Copy":"Copy .md"}`})()})}}}]);