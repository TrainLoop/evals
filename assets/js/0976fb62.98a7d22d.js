"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[545],{8453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>c});var s=i(6540);const r={},t=s.createContext(r);function l(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),s.createElement(t.Provider,{value:n},e.children)}},9242:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"reference/cli/add","title":"trainloop add","description":"Add reusable metrics and suites from the TrainLoop registry to your project.","source":"@site/docs/reference/cli/add.md","sourceDirName":"reference/cli","slug":"/reference/cli/add","permalink":"/reference/cli/add","draft":false,"unlisted":false,"editUrl":"https://github.com/trainloop/evals/tree/main/docs/docs/reference/cli/add.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5},"sidebar":"docsSidebar","previous":{"title":"trainloop studio","permalink":"/reference/cli/studio"},"next":{"title":"trainloop benchmark","permalink":"/reference/cli/benchmark"}}');var r=i(4848),t=i(8453);const l={sidebar_position:5},c="trainloop add",d={},o=[{value:"Synopsis",id:"synopsis",level:2},{value:"Description",id:"description",level:2},{value:"Arguments",id:"arguments",level:2},{value:"Options",id:"options",level:2},{value:"Examples",id:"examples",level:2},{value:"List Available Components",id:"list-available-components",level:3},{value:"Add Components",id:"add-components",level:3},{value:"Development Usage",id:"development-usage",level:3},{value:"Available Components",id:"available-components",level:2},{value:"Metrics",id:"metrics",level:3},{value:"Suites",id:"suites",level:3},{value:"How It Works",id:"how-it-works",level:2},{value:"File Structure",id:"file-structure",level:2},{value:"Registry System",id:"registry-system",level:2},{value:"Public Registry",id:"public-registry",level:3},{value:"Local Registry",id:"local-registry",level:3},{value:"Customization",id:"customization",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"1. Start with Registry Components",id:"1-start-with-registry-components",level:3},{value:"2. Review Before Using",id:"2-review-before-using",level:3},{value:"3. Version Management",id:"3-version-management",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Component Not Found",id:"component-not-found",level:3},{value:"File Already Exists",id:"file-already-exists",level:3},{value:"Registry Connection Issues",id:"registry-connection-issues",level:3},{value:"Contributing to Registry",id:"contributing-to-registry",level:2},{value:"See Also",id:"see-also",level:2}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"trainloop-add",children:"trainloop add"})}),"\n",(0,r.jsx)(n.p,{children:"Add reusable metrics and suites from the TrainLoop registry to your project."}),"\n",(0,r.jsx)(n.h2,{id:"synopsis",children:"Synopsis"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"trainloop add [OPTIONS] <TYPE> <NAME>\n"})}),"\n",(0,r.jsx)(n.h2,{id:"description",children:"Description"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"trainloop add"})," command downloads and installs pre-built evaluation components from the TrainLoop registry. This allows you to quickly add common metrics and evaluation suites to your project."]}),"\n",(0,r.jsx)(n.h2,{id:"arguments",children:"Arguments"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Argument"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"<TYPE>"})}),(0,r.jsxs)(n.td,{children:["Component type: ",(0,r.jsx)(n.code,{children:"metric"})," or ",(0,r.jsx)(n.code,{children:"suite"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"<NAME>"})}),(0,r.jsx)(n.td,{children:"Name of the component to add"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"options",children:"Options"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Option"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"--list"})}),(0,r.jsx)(n.td,{children:"List available components"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"--force"})}),(0,r.jsx)(n.td,{children:"Overwrite existing files"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"--registry <path>"})}),(0,r.jsx)(n.td,{children:"Use local registry directory"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"--version <tag>"})}),(0,r.jsx)(n.td,{children:"Pull from specific CLI version"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"--help"})}),(0,r.jsx)(n.td,{children:"Show help message"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,r.jsx)(n.h3,{id:"list-available-components",children:"List Available Components"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# List all available components\ntrainloop add --list\n\n# List specific component type\ntrainloop add metric --list\ntrainloop add suite --list\n"})}),"\n",(0,r.jsx)(n.h3,{id:"add-components",children:"Add Components"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Add a metric\ntrainloop add metric always_pass\n\n# Add a suite\ntrainloop add suite sample_evaluation\n\n# Force overwrite existing files\ntrainloop add metric accuracy --force\n"})}),"\n",(0,r.jsx)(n.h3,{id:"development-usage",children:"Development Usage"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Use local registry for development\ntrainloop add --registry ../my-registry metric custom_metric\n\n# Use specific version\ntrainloop add --version v1.2.0 metric helpful_check\n"})}),"\n",(0,r.jsx)(n.h2,{id:"available-components",children:"Available Components"}),"\n",(0,r.jsx)(n.h3,{id:"metrics",children:"Metrics"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Name"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"always_pass"})}),(0,r.jsx)(n.td,{children:"Always returns 1 (for testing)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"always_fail"})}),(0,r.jsx)(n.td,{children:"Always returns 0 (for testing)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"not_empty"})}),(0,r.jsx)(n.td,{children:"Checks if response is not empty"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"min_length"})}),(0,r.jsx)(n.td,{children:"Checks minimum response length"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"max_length"})}),(0,r.jsx)(n.td,{children:"Checks maximum response length"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"contains_keywords"})}),(0,r.jsx)(n.td,{children:"Checks for specific keywords"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"no_profanity"})}),(0,r.jsx)(n.td,{children:"Checks for inappropriate content"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"helpful_check"})}),(0,r.jsx)(n.td,{children:"LLM Judge helpfulness evaluation"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"accuracy_check"})}),(0,r.jsx)(n.td,{children:"LLM Judge accuracy evaluation"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"suites",children:"Suites"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Name"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"sample"})}),(0,r.jsx)(n.td,{children:"Basic evaluation suite example"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"quality_check"})}),(0,r.jsx)(n.td,{children:"Comprehensive quality evaluation"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"safety_review"})}),(0,r.jsx)(n.td,{children:"Safety and appropriateness checks"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"customer_support"})}),(0,r.jsx)(n.td,{children:"Customer service evaluation"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"content_generation"})}),(0,r.jsx)(n.td,{children:"Content quality evaluation"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"how-it-works",children:"How It Works"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Download"}),": Component is downloaded from registry"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Install"}),": Files are copied to ",(0,r.jsx)(n.code,{children:"trainloop/eval/metrics/"})," or ",(0,r.jsx)(n.code,{children:"trainloop/eval/suites/"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Customize"}),": You can modify the installed files as needed"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"file-structure",children:"File Structure"}),"\n",(0,r.jsx)(n.p,{children:"After adding components, your project structure looks like:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"trainloop/\n\u251c\u2500\u2500 eval/\n\u2502   \u251c\u2500\u2500 metrics/\n\u2502   \u2502   \u251c\u2500\u2500 always_pass.py        # Added metric\n\u2502   \u2502   \u2514\u2500\u2500 helpful_check.py      # Added metric\n\u2502   \u2514\u2500\u2500 suites/\n\u2502       \u251c\u2500\u2500 sample.py             # Added suite\n\u2502       \u2514\u2500\u2500 quality_check.py      # Added suite\n"})}),"\n",(0,r.jsx)(n.h2,{id:"registry-system",children:"Registry System"}),"\n",(0,r.jsx)(n.h3,{id:"public-registry",children:"Public Registry"}),"\n",(0,r.jsx)(n.p,{children:"The default registry contains community-maintained components:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Hosted on GitHub"}),"\n",(0,r.jsx)(n.li,{children:"Versioned with CLI releases"}),"\n",(0,r.jsx)(n.li,{children:"Peer-reviewed for quality"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"local-registry",children:"Local Registry"}),"\n",(0,r.jsx)(n.p,{children:"For development or private components:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Set up local registry\nmkdir my-registry\ncd my-registry\n# Add your metrics and suites\n\n# Use with trainloop add\ntrainloop add --registry ./my-registry metric my_custom_metric\n"})}),"\n",(0,r.jsx)(n.h2,{id:"customization",children:"Customization"}),"\n",(0,r.jsx)(n.p,{children:"After adding components, you can customize them:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'# trainloop/eval/metrics/helpful_check.py (after adding)\nfrom trainloop_cli.eval_core.types import Sample\nfrom trainloop_cli.eval_core.judge import assert_true\n\ndef helpful_check(sample: Sample) -> int:\n    """Check if response is helpful (customize as needed)"""\n    response = sample.output.get("content", "")\n    \n    # Customize these claims for your use case\n    positive_claim = f"The response \'{response}\' is helpful and informative."\n    negative_claim = f"The response \'{response}\' is not helpful or informative."\n    \n    return assert_true(positive_claim, negative_claim)\n'})}),"\n",(0,r.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,r.jsx)(n.h3,{id:"1-start-with-registry-components",children:"1. Start with Registry Components"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Begin with proven components\ntrainloop add metric helpful_check\ntrainloop add suite quality_check\n\n# Then customize for your needs\n"})}),"\n",(0,r.jsx)(n.h3,{id:"2-review-before-using",children:"2. Review Before Using"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Add component\ntrainloop add metric accuracy_check\n\n# Review the code\ncat trainloop/eval/metrics/accuracy_check.py\n\n# Test before using in production\ntrainloop eval --suite test_suite\n"})}),"\n",(0,r.jsx)(n.h3,{id:"3-version-management",children:"3. Version Management"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Pin to specific version for stability\ntrainloop add --version v1.0.0 metric core_quality\n\n# Update to latest when ready\ntrainloop add --force metric core_quality\n"})}),"\n",(0,r.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,r.jsx)(n.h3,{id:"component-not-found",children:"Component Not Found"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Check available components\ntrainloop add --list\n\n# Check spelling and try again\ntrainloop add metric helpful_check\n"})}),"\n",(0,r.jsx)(n.h3,{id:"file-already-exists",children:"File Already Exists"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Use --force to overwrite\ntrainloop add metric accuracy --force\n\n# Or rename existing file first\nmv trainloop/eval/metrics/accuracy.py trainloop/eval/metrics/accuracy_old.py\ntrainloop add metric accuracy\n"})}),"\n",(0,r.jsx)(n.h3,{id:"registry-connection-issues",children:"Registry Connection Issues"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Use local registry as fallback\ntrainloop add --registry ./local-registry metric my_metric\n\n# Check network connectivity\nping github.com\n"})}),"\n",(0,r.jsx)(n.h2,{id:"contributing-to-registry",children:"Contributing to Registry"}),"\n",(0,r.jsx)(n.p,{children:"To contribute components to the public registry:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Follow the ",(0,r.jsx)(n.a,{href:"https://github.com/trainloop/evals/blob/main/CONTRIBUTING.md",children:"contribution guidelines"})]}),"\n",(0,r.jsx)(n.li,{children:"Test components thoroughly"}),"\n",(0,r.jsx)(n.li,{children:"Document usage and examples"}),"\n",(0,r.jsx)(n.li,{children:"Submit pull request"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"see-also",children:"See Also"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/tutorials/",children:"Tutorials"})," - Learn to write custom metrics"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/explanation/architecture",children:"Architecture"})," - System architecture overview"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"https://github.com/trainloop/evals/blob/main/CONTRIBUTING.md",children:"Contributing Guide"})," - How to contribute components"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}}}]);